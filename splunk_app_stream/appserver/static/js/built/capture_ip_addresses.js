this.JSON||(JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a){var b,c=decodeURIComponent,d=a.deparam=function(b,e){var f={};return a.each(b.replace(/\+/g," ").split("&"),function(b,g){var h=g.split("="),i=c(h[0]);if(i){var j=c(h[1]||""),k=i.split("]["),l=k.length-1,m=0,n=f;if(k[0].indexOf("[")>=0&&/\]$/.test(k[l])?(k[l]=k[l].replace(/\]$/,""),k=k.shift().split("[").concat(k),l++):l=0,a.isFunction(e)?j=e(i,j):e&&(j=d.reviver(i,j)),l)for(;l>=m;m++)i=""!==k[m]?k[m]:n.length,l>m?n=n[i]=n[i]||(isNaN(k[m+1])?{}:[]):n[i]=j;else a.isArray(f[i])?f[i].push(j):f[i]=i in f?[f[i],j]:j}}),f};d.reviver=function(a,c){var d={"true":!0,"false":!1,"null":null,undefined:b};return+c+""===c?+c:c in d?d[c]:c}}(jQuery),define("splunkjs/contrib/jquery.deparam",function(){}),define("splunkjs/mvc/protections",["require","exports","module","splunk.util"],function(a){function b(a){function b(a){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(a)}var c=d.getConfigValue("DJANGO_PORT_NUMBER",null),e=d.getConfigValue("MRSPARKLE_PORT_NUMBER"),f=c||e,g="django_csrftoken_"+f,h=d.getCookie(g),i=d.getFormKey();a.ajaxPrefilter(function(a,c,d){a.hasOwnProperty("crossDomain")||(a.crossDomain=!1);var e=a.type||"";b(e)||(h&&d.setRequestHeader("X-CSRFToken",h),i&&d.setRequestHeader("X-Splunk-Form-Key",i))})}function c(a,b,c){a(document).bind("ajaxError",function(a,d){var e=window.location.pathname;if(401===d.status&&-1===e.indexOf(c)){var f=encodeURIComponent(e+document.location.search);document.location=b+"?return_to="+f}})}var d=a("splunk.util");return{enableCSRFProtection:b,enableUnauthorizationRedirection:c}}),define("splunkjs/mvc/basetokenmodel",["require","exports","module","backbone"],function(a,b,c){var d=a("backbone"),e=d.Model.extend({moduleId:c.id});return e}),define("splunkjs/mvc/registry",["require","exports","module","underscore","backbone","util/console","./basetokenmodel"],function(a){var b=a("underscore"),c=a("backbone"),d=a("util/console"),e=a("./basetokenmodel"),f=c.Model.extend({initialize:function(){this.registerInstance("default",this._createTokenModel("default"))},createError:function(a){return a},registerInstance:function(a,b,c){if(c=c||{},!a)throw new Error("You must pass in an ID when registering an instance.");if(this.has(a)&&!c.replace)throw new Error(this.createError("Already have instance with id: "+a));return this.set(a,b,c),b},revokeInstance:function(a,b){this.unset(a,b)},hasInstance:function(a){return this.has(a)},getInstance:function(a,b){return b=b||{},this.has(a)||(b.create?this.registerInstance(a,this._createTokenModel(a)):d.error(this.createError("No instance with id: "+a))),this.get(a)},getInstances:function(){return b.values(this.attributes)},getInstanceNames:function(){return b.keys(this.attributes)},_createTokenModel:function(a){var b=new e;return b.id=a,b}});return f}),define("splunkjs/generated/urlresolver",["require","exports","module"],function(){var a=function(){throw new Error("Path reverse is not supported in this configuration of the framework.")};return{reverse:a}}),function(){var a="splunkjs",b=function(a,c){var d=b.resolve(a,c||"/"),e=b.modules[d];if(!e)throw new Error("Failed to resolve module "+a+", tried "+d);var f=e._cached?e._cached:e();return f};b.paths=[],b.modules={},b.extensions=[".js",".coffee"],b._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},b.resolve=function(){return function(a,c){function d(a){if(b.modules[a])return a;for(var c=0;c<b.extensions.length;c++){var d=b.extensions[c];if(b.modules[a+d])return a+d}}function e(a){a=a.replace(/\/+$/,"");var c=a+"/package.json";if(b.modules[c]){var e=b.modules[c](),f=e.browserify;if("object"==typeof f&&f.main){var g=d(h.resolve(a,f.main));if(g)return g}else if("string"==typeof f){var g=d(h.resolve(a,f));if(g)return g}else if(e.main){var g=d(h.resolve(a,e.main));if(g)return g}}return d(a+"/index")}function f(a,b){for(var c=g(b),f=0;f<c.length;f++){var h=c[f],i=d(h+"/"+a);if(i)return i;var j=e(h+"/"+a);if(j)return j}var i=d(a);return i?i:void 0}function g(a){var b;b="/"===a?[""]:h.normalize(a).split("/");for(var c=[],d=b.length-1;d>=0;d--)if("node_modules"!==b[d]){var e=b.slice(0,d+1).join("/")+"/node_modules";c.push(e)}return c}if(c||(c="/"),b._core[a])return a;var h=b.modules.path();c=h.resolve("/",c);var i=c||"/";if(a.match(/^(?:\.\.?\/|\/)/)){var j=d(h.resolve(i,a))||e(h.resolve(i,a));if(j)return j}var k=f(a,i);if(k)return k;throw new Error("Cannot find module '"+a+"'")}}(),b.alias=function(a,c){var d=b.modules.path(),e=null;try{e=b.resolve(a+"/package.json","/")}catch(f){e=b.resolve(a,"/")}for(var g=d.dirname(e),h=(Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b})(b.modules),i=0;i<h.length;i++){var j=h[i];if(j.slice(0,g.length+1)===g+"/"){var k=j.slice(g.length);b.modules[c+k]=b.modules[g+k]}else j===g&&(b.modules[c]=b.modules[g])}},b.define=function(a,c){var d=b._core[a]?"":b.modules.path().dirname(a),e=function(a){return b(a,d)};e.resolve=function(a){return b.resolve(a,d)},e.modules=b.modules,e.define=b.define;var f={exports:{}};b.modules[a]=function(){return b.modules[a]._cached=f.exports,c.call(f.exports,e,f,f.exports,d,a),b.modules[a]._cached=f.exports,f.exports}},"undefined"==typeof process&&(process={}),process.nextTick||(process.nextTick=function(){var a=[],b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;return b&&window.addEventListener("message",function(b){if(b.source===window&&"browserify-tick"===b.data&&(b.stopPropagation(),a.length>0)){var c=a.shift();c()}},!0),function(c){b?(a.push(c),window.postMessage("browserify-tick","*")):setTimeout(c,0)}}()),process.title||(process.title="browser"),process.binding||(process.binding=function(a){if("evals"===a)return b("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),b.define("path",function(a,b,c){function d(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}function e(a,b){for(var c=0,d=a.length;d>=0;d--){var e=a[d];"."==e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}var f=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;c.resolve=function(){for(var a="",b=!1,c=arguments.length;c>=-1&&!b;c--){var f=c>=0?arguments[c]:process.cwd();"string"==typeof f&&f&&(a=f+"/"+a,b="/"===f.charAt(0))}return a=e(d(a.split("/"),function(a){return!!a}),!b).join("/"),(b?"/":"")+a||"."},c.normalize=function(a){var b="/"===a.charAt(0),c="/"===a.slice(-1);return a=e(d(a.split("/"),function(a){return!!a}),!b).join("/"),a||b||(a="."),a&&c&&(a+="/"),(b?"/":"")+a},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a){return a&&"string"==typeof a}).join("/"))},c.dirname=function(a){var b=f.exec(a)[1]||"",c=!1;return b?1===b.length||c&&b.length<=3&&":"===b.charAt(1)?b:b.substring(0,b.length-1):"."},c.basename=function(a,b){var c=f.exec(a)[2]||"";return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f.exec(a)[3]||""}}),b.define("/package.json",function(a,b){b.exports={main:"index.js"}}),b.define("/index.js",function(a,b,c){!function(){var d=c||this;process.env=process.env||{},b.exports=d={Logger:a("./lib/log").Logger,Context:a("./lib/context"),Service:a("./lib/service"),Http:a("./lib/http"),Utils:a("./lib/utils"),Async:a("./lib/async"),Paths:a("./lib/paths").Paths,Class:a("./lib/jquery.class").Class},"undefined"==typeof window&&(d.NodeHttp=a("./lib/platform/node/node_http").NodeHttp)}()}),b.define("/lib/log.js",function(a,b,c){!function(){var b=a("./utils"),d={ALL:4,INFO:3,WARN:2,ERROR:1,NONE:0},e=function(a){process.env.LOG_LEVEL=b.isString(a)&&d.hasOwnProperty(a)?d[a]:!isNaN(parseInt(a,10))&&b.keyOf(parseInt(a,10),d)?a:d.ERROR};process.env.LOG_LEVEL?e(process.env.LOG_LEVEL):process.env.LOG_LEVEL=d.ERROR;var f,g,h,i;if(f=g=h=i=function(){},"undefined"!=typeof console){var j=function(a){return function(b){try{console[a].apply(console,arguments)}catch(c){}}};console.log&&(f=j("log")),console.error&&(h=j("error")),console.warn&&(g=j("warn")),console.info&&(i=j("info"))}c.Logger={log:function(){process.env.LOG_LEVEL>=d.ALL&&f.apply(null,arguments)},error:function(){process.env.LOG_LEVEL>=d.ERROR&&h.apply(null,arguments)},warn:function(){process.env.LOG_LEVEL>=d.WARN&&g.apply(null,arguments)},info:function(){process.env.LOG_LEVEL>=d.INFO&&i.apply(null,arguments)},printMessages:function(a){a=a||[];for(var b=0;b<a.length;b++){var c=a[b],d=c.type,e=c.text,f="[SPLUNKD] "+e;switch(d){case"HTTP":case"FATAL":case"ERROR":this.error(f);break;case"WARN":this.warn(f);break;case"INFO":this.info(f);break;case"HTTP":this.error(f);break;default:this.info(f)}}},setLevel:function(){e.apply(this,arguments)},levels:d}}()}),b.define("/lib/utils.js",function(a,b,c){!function(){var a=c||this;a.bind=function(a,b){return function(){return b.apply(a,arguments)}},a.trim=function(a){return a=a||"",String.prototype.trim?String.prototype.trim.call(a):a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},a.indexOf=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},a.contains=function(b,c){return b=b||[],a.indexOf(b,c)>=0},a.startsWith=function(a,b){var c=a.match("^"+b);return c&&c.length>0&&c[0]===b},a.endsWith=function(a,b){var c=a.match(b+"$");return c&&c.length>0&&c[0]===b};var b=Object.prototype.toString;a.toArray=function(a){return Array.prototype.slice.call(a)},a.isArray=Array.isArray||function(a){return"[object Array]"===b.call(a)},a.isFunction=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},a.isNumber=function(a){return!!(0===a||a&&a.toExponential&&a.toFixed)},a.isString=function(a){return!!(""===a||a&&a.charCodeAt&&a.substr)},a.isObject=function(a){return a===Object(a)},a.isEmpty=function(b){if(a.isArray(b)||a.isString(b))return 0===b.length;for(var c in b)if(this.hasOwnProperty.call(b,c))return!1;return!0},a.forEach=function(a,b,c){if(null!==a)if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;e>d;d++)if(d in a&&b.call(c,a[d],d,a)==={})return}else for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)==={})return},a.extend=function(b){return a.forEach(Array.prototype.slice.call(arguments,1),function(a){for(var c in a)b[c]=a[c]}),b},a.clone=function(b){return a.isObject(b)?a.isArray(b)?b.slice():a.extend({},b):b},a.namespaceFromProperties=function(a){return{owner:a.acl.owner,app:a.acl.app,sharing:a.acl.sharing}},a.keyOf=function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&b[c]===a)return c;return void 0},a.getWithVersion=function(a,b){b=b||{};for(var c=a+""||"";""!==c;){if(b.hasOwnProperty(c))return b[c];c=c.slice(0,c.lastIndexOf("."))}return b["default"]}}()}),b.define("/lib/context.js",function(a,b,c){!function(){var d=a("./paths").Paths,e=a("./jquery.class").Class,f=a("./http"),g=a("./utils"),h=c||this,i={5:"",4.3:"/services/json/v2","default":""};b.exports=h=e.extend({init:function(b,c){if(b instanceof f||c||(c=b,b=null),c=c||{},this.scheme=c.scheme||"https",this.host=c.host||"localhost",this.port=c.port||8089,this.username=c.username||null,this.password=c.password||null,this.owner=c.owner,this.app=c.app,this.sessionKey=c.sessionKey||"",this.authorization=c.authorization||"Splunk",this.paths=c.paths||d,this.version=c.version||"default",this.autologin=!0,c.hasOwnProperty("autologin")&&(this.autologin=c.autologin),!b){if("undefined"!=typeof window)throw new Error("Http instance required when creating a Context within a browser.");var e=a("./platform/node/node_http").NodeHttp;b=new e}this.http=b,this.http._setSplunkVersion(this.version);var h=g.getWithVersion(this.version,i);this.prefix=this.scheme+"://"+this.host+":"+this.port+h,this._headers=g.bind(this,this._headers),this.fullpath=g.bind(this,this.fullpath),this.urlify=g.bind(this,this.urlify),this.get=g.bind(this,this.get),this.del=g.bind(this,this.del),this.post=g.bind(this,this.post),this.login=g.bind(this,this.login),this._shouldAutoLogin=g.bind(this,this._shouldAutoLogin),this._requestWrapper=g.bind(this,this._requestWrapper)},_headers:function(a){return a=a||{},""!=this.sessionKey&&(a.Authorization=this.authorization+" "+this.sessionKey),a},_shouldAutoLogin:function(){return this.username&&this.password&&this.autologin},_requestWrapper:function(a,b){b=b||function(){};var c=this,d=null,e=function(e){d.wasAborted||(e&&401===e.status&&c._shouldAutoLogin()?(c.sessionKey=null,c.login(function(c){d.wasAborted||(c?b(c):a(b))})):b.apply(null,arguments))};return d=!this._shouldAutoLogin()||this.sessionKey?a(e):this.login(function(c){d.wasAborted||(c?b(c):a(b))})},fullpath:function(a,b){if(b=b||{},g.startsWith(a,"/"))return a;if(!b.app&&!this.app&&b.sharing!==h.Sharing.SYSTEM)return"/services/"+a;var c=b.owner||this.owner||"-",d=b.app||this.app||"-";return b.sharing=(b.sharing||"").toLowerCase(),b.sharing===h.Sharing.APP||b.sharing===h.Sharing.GLOBAL?c="nobody":b.sharing===h.Sharing.SYSTEM&&(c="nobody",d="system"),g.trim("/servicesNS/"+c+"/"+d+"/"+a)},urlify:function(a){return this.prefix+this.fullpath(a)},login:function(a){var b=this,c=this.paths.login,d={username:this.username,password:this.password};a=a||function(){};var e=function(c,d){var e=!(c||!d.data||!d.data.sessionKey);c||!e?a(c||"No session key available",!1):(b.sessionKey=d.data.sessionKey,a(null,!0))};return this.http.post(this.urlify(c),this._headers(),d,0,e)},get:function(a,b,c){var d=this,e=function(c){return d.http.get(d.urlify(a),d._headers(),b,0,c)};return this._requestWrapper(e,c)},del:function(a,b,c){var d=this,e=function(c){return d.http.del(d.urlify(a),d._headers(),b,0,c)};return this._requestWrapper(e,c)},post:function(a,b,c){var d=this,e=function(c){return d.http.post(d.urlify(a),d._headers(),b,0,c)};return this._requestWrapper(e,c)},request:function(a,b,c,d,e,f,g){var h=this,i=function(g){return h.http.request(h.urlify(a),{method:b,headers:h._headers(f),query:c,post:d,body:e,timeout:0},g)};return this._requestWrapper(i,g)},versionCompare:function(a){var b=this.version;"default"===b&&(b="5.0");for(var c=b.split("."),d=a.split("."),e=Math.max(c.length,d.length),f=0;e>f;f++){var g=f<c.length?parseInt(c[f],10):0,h=f<d.length?parseInt(d[f],10):0;if(h>g)return-1;if(g>h)return 1}return 0}}),h.Sharing={USER:"user",APP:"app",GLOBAL:"global",SYSTEM:"system"}}()}),b.define("/lib/paths.js",function(a,b,c){!function(){var a=c||this;a.Paths={apps:"/services/apps/local",capabilities:"authorization/capabilities",configurations:"configs",deploymentClient:"deployment/client",deploymentServers:"deployment/server",deploymentServerClasses:"deployment/serverclass",deploymentTenants:"deployment/tenants",eventTypes:"saved/eventtypes",indexes:"data/indexes",info:"/services/server/info",inputs:null,jobs:"search/jobs",licenseGroups:"licenser/groups",licenseMessages:"licenser/messages",licensePools:"licenser/pools",licenseSlaves:"licenser/slaves",licenseStacks:"licenser/stacks",licenses:"licenser/licenses",loggers:"server/logger",login:"/services/auth/login",messages:"messages",passwords:"admin/passwords",parser:"search/parser",properties:"properties",roles:"authorization/roles",savedSearches:"saved/searches",settings:"server/settings",users:"/services/authentication/users",typeahead:"search/typeahead",views:"data/ui/views",currentUser:"/services/authentication/current-context",submitEvent:"/services/receivers/simple"}}()}),b.define("/lib/jquery.class.js",function(a,b,c){!function(){var a=c||this,b=!1,d=/xyz/.test(function(){return xyz})?/\b_super\b/:/.*/;a.Class=function(){},a.Class.extend=function(a){function c(){!b&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;b=!0;var f=new this;b=!1;for(var g in a)f[g]="function"==typeof a[g]&&"function"==typeof e[g]&&d.test(a[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,a[g]):a[g];return c.prototype=f,c.constructor=c,c.extend=arguments.callee,c}}()}),b.define("/lib/http.js",function(a,b,c){!function(){var d=a("./jquery.class").Class,e=a("./log").Logger,f=a("./utils"),g=c||this,h=null,i={5:function(a){var b=a.query||{},c=a.post||{},d=b.output_mode||c.output_mode||"json";return f.startsWith(d,"json")||(d="json"),b.output_mode=d,b},4:function(a){return a.query||{}},"default":function(a){return i[5](a)},none:function(a){return a.query||{}}};b.exports=g=h=d.extend({init:function(){this.get=f.bind(this,this.get),this.del=f.bind(this,this.del),this.post=f.bind(this,this.post),this.request=f.bind(this,this.request),this._buildResponse=f.bind(this,this._buildResponse),this._setSplunkVersion("none")},_setSplunkVersion:function(a){this.version=a},get:function(a,b,c,d,e){var f={method:"GET",headers:b,timeout:d,query:c};return this.request(a,f,e)},post:function(a,b,c,d,e){b["Content-Type"]="application/x-www-form-urlencoded";var f={method:"POST",headers:b,timeout:d,post:c};return this.request(a,f,e)},del:function(a,b,c,d,e){var f={method:"DELETE",headers:b,timeout:d,query:c};return this.request(a,f,e)},request:function(a,b,c){var d=function(a){c=c||function(){},a.status<400&&"abort"!==a.status?c(null,a):c(a)},e=f.getWithVersion(this.version,i)(b),g=b.post||{},j=a+"?"+h.encode(e),k=b.body?b.body:h.encode(g),l={method:b.method,headers:b.headers,timeout:b.timeout,body:k};return this.makeRequest(j,l,d)},makeRequest:function(){throw new Error("UNDEFINED FUNCTION - OVERRIDE REQUIRED")},parseJson:function(){throw new Error("UNDEFINED FUNCTION - OVERRIDE REQUIRED")},_buildResponse:function(a,b,c){var d,g={},h=null;if(b&&b.headers&&(h=f.trim(b.headers["content-type"]||b.headers["Content-Type"])),f.startsWith(h,"application/json")&&c)try{g=this.parseJson(c)||{}}catch(i){e.error("Error in parsing JSON:",c,i),g=c}else g=c;return g&&e.printMessages(g.messages),d={response:b,status:b?b.statusCode:0,data:g,error:a}}}),h.encode=function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){b&&"&"!==b[b.length-1]&&(b+="&");var d=a[c];if(d instanceof Array)for(var e=0;e<d.length;e++)b=b+c+"="+encodeURIComponent(d[e])+"&";else if("object"==typeof d){for(var f in d)if(d.hasOwnProperty(f)){{d[f]}b=b+c+"="+encodeURIComponent(d[f])+"&"}}else b=b+c+"="+encodeURIComponent(d)}return"&"===b[b.length-1]&&(b=b.substr(0,b.length-1)),b}}()}),b.define("/lib/service.js",function(a,b,c){!function(){var d=a("./context"),e=(a("./http"),a("./async")),f=a("./paths").Paths,g=a("./jquery.class").Class,h=a("./utils"),i=c||this,j=null,k=d.extend({init:function(){this._super.apply(this,arguments)}});b.exports=i=j=k.extend({init:function(){this._super.apply(this,arguments),this.specialize=h.bind(this,this.specialize),this.apps=h.bind(this,this.apps),this.configurations=h.bind(this,this.configurations),this.indexes=h.bind(this,this.indexes),this.savedSearches=h.bind(this,this.savedSearches),this.jobs=h.bind(this,this.jobs),this.users=h.bind(this,this.users),this.currentUser=h.bind(this,this.currentUser),this.views=h.bind(this,this.views)},specialize:function(a,b){return new j(this.http,{scheme:this.scheme,host:this.host,port:this.port,username:this.username,password:this.password,owner:a,app:b,sessionKey:this.sessionKey,version:this.version})},apps:function(){return new i.Applications(this)},configurations:function(a){return new i.Configurations(this,a)},indexes:function(a){return new i.Indexes(this,a)},savedSearches:function(a){return new i.SavedSearches(this,a)},jobs:function(a){return new i.Jobs(this,a)},users:function(){return new i.Users(this)},views:function(a){return new i.Views(this,a)},search:function(a,b,c,d){!d&&h.isFunction(c)&&(d=c,c=null);var e=new i.Jobs(this,{},c);return e.search(a,b,d)},oneshotSearch:function(a,b,c,d){!d&&h.isFunction(c)&&(d=c,c=null);var e=new i.Jobs(this,{},c);return e.oneshotSearch(a,b,d)},currentUser:function(a){a=a||function(){};var b=this,c=this.get(f.currentUser,{},function(d,e){if(d)a(d);else{var f=e.data.entry[0].content.username,g=new i.User(b,f);g.fetch(function(){c.wasAborted||a.apply(null,arguments)})}});return c},serverInfo:function(a){a=a||function(){};var b=new i.ServerInfo(this);return b.fetch(a)},parse:function(a,b,c){return!c&&h.isFunction(b)&&(c=b,b={}),c=c||function(){},b=b||{},b.q=a,this.get(f.parser,b,function(a,b){a?c(a):c(null,b.data)})},typeahead:function(a,b,c){!c&&h.isFunction(b)&&(c=b,b=10),c=c||function(){};var d={count:b||10,prefix:a};return this.get(f.typeahead,d,function(a,b){if(a)c(a);else{var d=(b.data||{}).results;c(null,d||[])}})},log:function(a,b,c){!c&&h.isFunction(b)&&(c=b,b={}),c=c||function(){},b=b||{},h.isObject(a)&&(a=JSON.stringify(a));var d=this.paths.submitEvent,e="POST",f={"Content-Type":"text/plain"},g=a,i=b,j={},k=this.request(d,e,i,j,g,f,function(a,b){a?c(a):c(null,b.data)});return k}}),i.Endpoint=g.extend({init:function(a,b){if(!a)throw new Error("Passed in a null Service.");if(!b)throw new Error("Passed in an empty path.");this.service=a,this.qualifiedPath=b,this.get=h.bind(this,this.get),this.post=h.bind(this,this.post),this.del=h.bind(this,this.del)},get:function(a,b,c){var d=this.qualifiedPath;return a&&(d=d+"/"+a),this.service.get(d,b,c)},post:function(a,b,c){var d=this.qualifiedPath;return a&&(d=d+"/"+a),this.service.post(d,b,c)},del:function(a,b,c){var d=this.qualifiedPath;return a&&(d=d+"/"+a),this.service.del(d,b,c)}}),i.Resource=i.Endpoint.extend({init:function(a,b,c){var d=a.fullpath(b,c);this._super(a,d),this.namespace=c,this._properties={},this._state={},this._load=h.bind(this,this._load),this.fetch=h.bind(this,this.fetch),this.properties=h.bind(this,this.properties),this.state=h.bind(this,this.state),this.path=h.bind(this,this.path)},path:function(){throw new Error("MUST BE OVERRIDDEN")},_load:function(a){this._properties=a||{},this._state=a||{}},fetch:function(){throw new Error("MUST BE OVERRIDDEN")},properties:function(){return this._properties},state:function(){return this._state}}),i.Entity=i.Resource.extend({fetchOnUpdate:!1,init:function(a,b,c){this._super(a,b,c),this._load=h.bind(this,this._load),this.fetch=h.bind(this,this.fetch),this.remove=h.bind(this,this.remove),this.update=h.bind(this,this.update),this.fields=h.bind(this,this.fields),this.links=h.bind(this,this.links),this.acl=h.bind(this,this.acl),this.author=h.bind(this,this.author),this.updated=h.bind(this,this.updated),this.published=h.bind(this,this.published),this.enable=h.bind(this,this.enable),this.disable=h.bind(this,this.disable),this.reload=h.bind(this,this.reload),this._properties={},this._fields={},this._acl={},this._links={}},_load:function(a){a=h.isArray(a)?a[0]:a,a=a||{content:{},fields:{},acl:{},links:{}},this._super(a),this._properties=a.content||{},this._fields=a.fields||this._fields||{},this._acl=a.acl||{},this._links=a.links||{},this._author=a.author||null,this._updated=a.updated||null,this._published=a.published||null},fields:function(){return this._fields},acl:function(){return this._acl},links:function(){return this._links},author:function(){return this._author},updated:function(){return this._updated},published:function(){return this._published},fetch:function(a,b){!b&&h.isFunction(a)&&(b=a,a={}),b=b||function(){},a=a||{};var c=this;return this.get("",a,function(a,d){a?b(a):(c._load(d.data?d.data.entry:null),b(null,c))})},remove:function(a){a=a||function(){};return this.del("",{},function(b){a(b)})},update:function(a,b){if(b=b||function(){},a.hasOwnProperty("name"))throw new Error("Cannot set 'name' field in 'update'");var c=this,d=this.post("",a,function(a,e){a||c.fetchOnUpdate?!a&&c.fetchOnUpdate?c.fetch(function(){d.wasAborted||b.apply(null,arguments)}):b(a,c):(c._load(e.data.entry),b(a,c))});return d},disable:function(a){a=a||function(){};var b=this;this.post("disable",{},function(c){c?a(c):a(null,b)})},enable:function(a){a=a||function(){};var b=this;this.post("enable",{},function(c){c?a(c):a(null,b)})},reload:function(a){a=a||function(){};var b=this;this.post("_reload",{},function(c){c?a(c):a(null,b)})}}),i.Collection=i.Resource.extend({fetchOnEntityCreation:!1,init:function(a,b,c){this._super(a,b,c),this._load=h.bind(this,this._load),this.fetch=h.bind(this,this.fetch),this.create=h.bind(this,this.create),this.list=h.bind(this,this.list),this.item=h.bind(this,this.item),this.instantiateEntity=h.bind(this,this.instantiateEntity),this._entities=[],this._entitiesByName={},this._properties={},this._paging={},this._links={}},instantiateEntity:function(){throw new Error("MUST BE OVERRIDDEN")},_load:function(a){this._super(a);for(var b=[],c={},d=a.entry||[],e=0;e<d.length;e++){var f=d[e],g=this.instantiateEntity(f);g._load(f),b.push(g),c.hasOwnProperty(g.name)?c[g.name].push(g):c[g.name]=[g]}this._entities=b,this._entitiesByName=c,this._paging=a.paging||{},this._links=a.links||{},this._updated=a.updated||null},links:function(){return this._links},paging:function(){return this._paging},updated:function(){return this._updated},fetch:function(a,b){!b&&h.isFunction(a)&&(b=a,a={}),b=b||function(){},a=a||{},a.count||(a.count=0);var c=this,d=c.get("",a,function(a,d){a?b(a):(c._load(d.data),b(null,c))});return d},item:function(a,b){if(h.isEmpty(b)&&(b=null),!a)throw new Error("Must suply a non-empty name.");var c=null;if(!this._entitiesByName.hasOwnProperty(a))return null;var d=this._entitiesByName[a];if(1===d.length&&!b)return d[0];if(1===d.length&&b)return c=this.service.fullpath(d[0].path(),b),d[0].qualifiedPath===c?d[0]:null;if(d.length>1&&!b)throw new Error("Ambiguous match for name '"+a+"'");for(var e=0;e<d.length;e++){var f=d[e];if(c=this.service.fullpath(d[e].path(),b),f.qualifiedPath===c)return f}},create:function(a,b){b=b||function(){};var c=this,d=this.post("",a,function(a,e){if(a)b(a);else{var f=e.data.entry;h.isArray(f)&&(f=f[0]);var g=c.instantiateEntity(f);g._load(f),c.fetchOnEntityCreation?g.fetch(function(){d.wasAborted||b.apply(null,arguments)}):b(null,g)}});return d},list:function(a){return a=a||function(){},h.clone(this._entities)}}),i.SavedSearch=i.Entity.extend({path:function(){return f.savedSearches+"/"+encodeURIComponent(this.name)},init:function(a,b,c){this.name=b,this._super(a,this.path(),c),this.acknowledge=h.bind(this,this.acknowledge),this.dispatch=h.bind(this,this.dispatch),this.history=h.bind(this,this.history),this.suppressInfo=h.bind(this,this.suppressInfo)},acknowledge:function(a){a=a||function(){};var b=this,c=this.post("acknowledge",{},function(c){a(c,b)});return c},dispatch:function(a,b){!b&&h.isFunction(a)&&(b=a,a={}),b=b||function(){},a=a||{};var c=this,d=this.post("dispatch",a,function(a,d){if(a)return void b(a);var e=d.data.sid,f=new i.Job(c.service,e,c.namespace);b(null,f,c)});return d},history:function(a){a=a||function(){};var b=this;return this.get("history",{},function(c,d){if(c)return void a(c);for(var e=[],f=d.data.entry||[],g=0;g<f.length;g++){var j=d.data.entry[g],k=h.namespaceFromProperties(j),l=new i.Job(b.service,j.name,k);l._load(j),e.push(l)}a(null,e,b)})},suppressInfo:function(a){a=a||function(){};var b=this;return this.get("suppress",{},function(c,d){a(c,d.data.entry.content,b)})},update:function(a,b){if(a=a||{},a.search)return this._super(a,b);var c=this._super,d=this.fetch(function(e,f){e?b(e):(a.search=f.properties().search,c.call(f,a,function(){d.wasAborted||b.apply(null,arguments)}))});return d}}),i.SavedSearches=i.Collection.extend({path:function(){return f.savedSearches},instantiateEntity:function(a){var b=h.namespaceFromProperties(a);return new i.SavedSearch(this.service,a.name,b)},init:function(a,b){this._super(a,this.path(),b)}}),i.Application=i.Entity.extend({fetchOnUpdate:!0,path:function(){return f.apps+"/"+encodeURIComponent(this.name)},init:function(a,b){this.name=b,this._super(a,this.path(),{}),this.setupInfo=h.bind(this,this.setupInfo),this.updateInfo=h.bind(this,this.updateInfo)},setupInfo:function(a){a=a||function(){};var b=this;return this.get("setup",{},function(c,d){c?a(c):a(null,d.data.entry.content,b)})},updateInfo:function(a){a=a||function(){};var b=this;return this.get("update",{},function(c,d){c?a(c):a(null,d.data.entry.content,b)})}}),i.Applications=i.Collection.extend({fetchOnEntityCreation:!0,path:function(){return f.apps},instantiateEntity:function(a){return new i.Application(this.service,a.name,{})},init:function(a){this._super(a,this.path(),{})}}),i.ServerInfo=i.Entity.extend({path:function(){return f.info},init:function(a){this.name="server-info",this._super(a,this.path(),{})}}),i.User=i.Entity.extend({path:function(){return f.users+"/"+encodeURIComponent(this.name)},init:function(a,b){this.name=b,this._super(a,this.path(),{})}}),i.Users=i.Collection.extend({fetchOnEntityCreation:!0,path:function(){return f.users},instantiateEntity:function(a){return new i.User(this.service,a.name,{})},init:function(a){this._super(a,this.path(),{})},create:function(a,b){b=b||function(){};var c=this,d=this.post("",a,function(e){if(e)b(e);else{var f={name:a.name},g=c.instantiateEntity(f);g.fetch(function(){d.wasAborted||b.apply(null,arguments)})}});return d}}),i.View=i.Entity.extend({path:function(){return f.views+"/"+encodeURIComponent(this.name)},init:function(a,b,c){this.name=b,this._super(a,this.path(),c)}}),i.Views=i.Collection.extend({path:function(){return f.views},instantiateEntity:function(a){var b=h.namespaceFromProperties(a);return new i.View(this.service,a.name,b)},init:function(a,b){this._super(a,this.path(),b)
}}),i.Index=i.Entity.extend({path:function(){return f.indexes+"/"+encodeURIComponent(this.name)},init:function(a,b,c){this.name=b,this._super(a,this.path(),c),this.submitEvent=h.bind(this,this.submitEvent)},submitEvent:function(a,b,c){!c&&h.isFunction(b)&&(c=b,b={}),c=c||function(){},b=b||{},b.index=this.name;var d=this;return this.service.log(a,b,function(a,b){c(a,b,d)})},remove:function(a){if(this.service.versionCompare("5.0")<0)throw new Error("Indexes cannot be removed in Splunk 4.x");return this._super(a)}}),i.Indexes=i.Collection.extend({path:function(){return f.indexes},instantiateEntity:function(a){var b=h.namespaceFromProperties(a);return new i.Index(this.service,a.name,b)},init:function(a,b){this._super(a,this.path(),b)},create:function(a,b,c){return h.isObject(a)&&h.isFunction(b)&&!c&&(c=b,b=a,a=b.name),b=b||{},b.name=a,this._super(b,c)}}),i.ConfigurationStanza=i.Entity.extend({path:function(){return f.configurations+"/conf-"+encodeURIComponent(this.file)+"/"+encodeURIComponent(this.name)},init:function(a,b,c,d){this.name=c,this.file=b,this._super(a,this.path(),d)}}),i.ConfigurationFile=i.Collection.extend({path:function(){return f.configurations+"/conf-"+encodeURIComponent(this.name)},instantiateEntity:function(a){var b=h.namespaceFromProperties(a);return new i.ConfigurationStanza(this.service,this.name,a.name,b)},init:function(a,b,c){this.name=b,this._super(a,this.path(),c)},create:function(a,b,c){return h.isObject(a)&&h.isFunction(b)&&!c&&(c=b,b=a,a=b.name),h.isFunction(b)&&!c&&(c=b,b={}),b=b||{},b.name=a,this._super(b,c)}}),i.Configurations=i.Collection.extend({fetchOnEntityCreation:!0,path:function(){return f.properties},instantiateEntity:function(a){return new i.ConfigurationFile(this.service,a.name,this.namespace)},init:function(a,b){if(!b||"-"===b.owner||"-"===b.app)throw new Error("Configurations requires a non-wildcard owner/app");this._super(a,this.path(),b)},create:function(a,b){h.isObject(a)&&(a=a.__conf),b=b||function(){};var c=this,d=this.post("",{__conf:a},function(e){if(e)b(e);else{var f=new i.ConfigurationFile(c.service,a);f.fetch(function(){d.wasAborted||b.apply(null,arguments)})}});return d}}),i.Job=i.Entity.extend({path:function(){return f.jobs+"/"+encodeURIComponent(this.name)},init:function(a,b,c){this.name=b,this._super(a,this.path(),c),this.sid=b,this.cancel=h.bind(this,this.cancel),this.disablePreview=h.bind(this,this.disablePreview),this.enablePreview=h.bind(this,this.enablePreview),this.events=h.bind(this,this.events),this.finalize=h.bind(this,this.finalize),this.pause=h.bind(this,this.pause),this.preview=h.bind(this,this.preview),this.results=h.bind(this,this.results),this.searchlog=h.bind(this,this.searchlog),this.setPriority=h.bind(this,this.setPriority),this.setTTL=h.bind(this,this.setTTL),this.summary=h.bind(this,this.summary),this.timeline=h.bind(this,this.timeline),this.touch=h.bind(this,this.touch),this.unpause=h.bind(this,this.unpause)},cancel:function(a){var b=this.post("control",{action:"cancel"},a);return b},disablePreview:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"disablepreview"},function(c){a(c,b)});return c},enablePreview:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"enablepreview"},function(c){a(c,b)});return c},events:function(a,b){b=b||function(){},a=a||{},a.output_mode=a.output_mode||"json_rows";var c=this;return this.get("events",a,function(a,d){a?b(a):b(null,d.data,c)})},finalize:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"finalize"},function(c){a(c,b)});return c},iterator:function(a,b){return new i.PaginatedEndpointIterator(this[a],b)},pause:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"pause"},function(c){a(c,b)});return c},preview:function(a,b){b=b||function(){},a=a||{},a.output_mode=a.output_mode||"json_rows";var c=this;return this.get("results_preview",a,function(a,d){a?b(a):b(null,d.data,c)})},results:function(a,b){b=b||function(){},a=a||{},a.output_mode=a.output_mode||"json_rows";var c=this;return this.get("results",a,function(a,d){a?b(a):b(null,d.data,c)})},searchlog:function(a){a=a||function(){};var b=this;return this.get("search.log",{},function(c,d){c?a(c):a(null,d.data,b)})},setPriority:function(a,b){b=b||function(){};var c=this,d=this.post("control",{action:"setpriority",priority:a},function(a){b(a,c)});return d},setTTL:function(a,b){b=b||function(){};var c=this,d=this.post("control",{action:"setttl",ttl:a},function(a){b(a,c)});return d},summary:function(a,b){b=b||function(){};var c=this;return this.get("summary",a,function(a,d){a?b(a):b(null,d.data,c)})},timeline:function(a,b){b=b||function(){};var c=this;return this.get("timeline",a,function(a,d){a?b(a):b(null,d.data,c)})},touch:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"touch"},function(c){a(c,b)});return c},track:function(a,b){var c=a.period||500;h.isFunction(b)&&(b={done:b});var d=!(b.progress||b.done||b.failed||b.error);b.ready=b.ready||function(){},b.progress=b.progress||function(){},b.done=b.done||function(){},b.failed=b.failed||function(){},b.error=b.error||function(){},b._preready=b._preready||function(){},b._stoppedAfterReady=b._stoppedAfterReady||function(){};var f=this,g=!1,i=!1;e.whilst(function(){return!i},function(a){f.fetch(function(f,h){if(f)return void a(f);var j=h.properties().dispatchState,k="QUEUED"===j||"PARSING"===j;if(k)b._preready(h);else{if(!g&&(b.ready(h),g=!0,d))return b._stoppedAfterReady(h),i=!0,void a();b.progress(h);var l=h.properties();if("DONE"===j&&l.isDone)return b.done(h),i=!0,void a();if("FAILED"===j&&l.isFailed)return b.failed(h),i=!0,void a()}e.sleep(c,a)})},function(a){a&&b.error(a)})},unpause:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"unpause"},function(c){a(c,b)});return c}}),i.Jobs=i.Collection.extend({path:function(){return f.jobs},instantiateEntity:function(a){var b=a.content.sid,c=h.namespaceFromProperties(a);return new i.Job(this.service,b,c)},init:function(a,b){this._super(a,this.path(),b),this.create=h.bind(this,this.create)},create:function(a,b,c){if(h.isObject(a)&&h.isFunction(b)&&!c&&(c=b,b=a,a=b.search),c=c||function(){},b=b||{},b.search=a,"oneshot"===(b.exec_mode||"").toLowerCase())throw new Error("Please use splunkjs.Service.Jobs.oneshotSearch for exec_mode=oneshot");if(!b.search)return void c("Must provide a query to create a search job");var d=this;return this.post("",b,function(a,b){if(a)c(a);else{var e=new i.Job(d.service,b.data.sid,d.namespace);c(null,e)}})},search:function(a,b,c){return this.create(a,b,c)},oneshotSearch:function(a,b,c){h.isObject(a)&&h.isFunction(b)&&!c&&(c=b,b=a,a=b.search),c=c||function(){},b=b||{},b.search=a,b.exec_mode="oneshot",b.search||c("Must provide a query to create a search job");var d=b.output_mode||"json_rows",e=this.qualifiedPath,f="POST",g={},i=b,j={output_mode:d},k=null,l=this.service.request(e,f,j,i,k,g,function(a,b){a?c(a):c(null,b.data)});return l}}),i.PaginatedEndpointIterator=g.extend({init:function(a,b){b=b||{},this._endpoint=a,this._pagesize=b.pagesize||0,this._offset=0},next:function(a){a=a||function(){};var b=this,c={count:this._pagesize,offset:this._offset};return this._endpoint(c,function(c,d){if(c)a(c);else{var e=d.rows?d.rows.length:0;b._offset+=e,a(null,d,e>0)}})}})}()}),b.define("/lib/async.js",function(a,b,c){!function(){var b=a("./utils"),d=c||this;d.whilst=function(a,b,c){a=a||function(){return!1},b=b||function(a){a()},c=c||function(){};var e=function(e){e?c(e):d.whilst(a,b,c)};a()?b(e):c(null)},d.parallel=function(a,c){if(arguments.length>1&&b.isFunction(arguments[0])){var d=b.toArray(arguments);a=d.slice(0,d.length-1),c=d[d.length-1]}a=a||[],c=c||function(){},0===a.length&&c();for(var e=a.length,f=[],g=function(a){return function(d){if(d)c&&c(d),c=null;else{var g=b.toArray(arguments);g.shift(),1===g.length&&(g=g[0]),f[a]=g,0===--e&&(f.unshift(null),c&&c.apply(null,f))}}},h=0;h<a.length;h++){var i=a[h];i(g(h))}},d.series=function(a,c){if(arguments.length>1&&b.isFunction(arguments[0])){var d=b.toArray(arguments);a=d.slice(0,d.length-1),c=d[d.length-1]}a=a||[],c=c||function(){};var e=function(a,c,d,f){return a?void a(function(a){if(a)f&&f(a),f=null;else{var g=b.toArray(arguments);g.shift(),1===g.length&&(g=g[0]),d.push(g),e(c[0],c.slice(1),d,f)}}):(d.unshift(null),void f.apply(null,d))};e(a[0],a.slice(1),[],c)},d.parallelMap=function(a,c,e){a=a||[],e=e||function(){};for(var f=[],g=function(a,b){return function(d){c(a,b,d)}},h=0;h<a.length;h++)f.push(g(a[h],h));d.parallel(f,function(a){if(a)e&&e(a),e=null;else{var c=b.toArray(arguments);c.shift(),e(null,c)}})},d.seriesMap=function(a,c,e){a=a||[],e=e||function(){};for(var f=[],g=function(a,b){return function(d){c(a,b,d)}},h=0;h<a.length;h++)f.push(g(a[h],h));d.series(f,function(a){if(a)e&&e(a);else{var c=b.toArray(arguments);c.shift(),e(null,c)}})},d.parallelEach=function(a,b,c){a=a||[],c=c||function(){},d.parallelMap(a,b,function(a){c(a)})},d.seriesEach=function(a,b,c){a=a||[],c=c||function(){},d.seriesMap(a,b,function(a){c(a)})},d.chain=function(a,c){if(arguments.length>1&&b.isFunction(arguments[0])){var d=b.toArray(arguments);a=d.slice(0,d.length-1),c=d[d.length-1]}if(a=a||[],c=c||function(){},a.length){var e=function(a,d,f){var g=function(a){if(a)c(a),c=function(){};else{var f=b.toArray(arguments);f.shift(),e(d[0],d.slice(1),f)}},h=f;h.push(d.length?g:c),a.apply(null,h)};e(a[0],a.slice(1),[])}else c()},d.sleep=function(a,b){setTimeout(function(){b()},a)},d.augment=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){for(var c=Array.prototype.slice.call(arguments),d=0;d<b.length;d++)c.push(b[d]);a.apply(null,c)}}}()}),b.define("/lib/platform/client/jquery_http.js",function(a,b,c){!function(){var b=a("../../http"),d=a("../../utils"),e=c||this,f=function(a){for(var b={},c=a.split("\n"),e=0;e<c.length;e++)if(""!==d.trim(c[e])){var f=c[e].split(": ");b[f[0]]=f[1]}return b};e.JQueryHttp=b.extend({init:function(a){this._super(a)},makeRequest:function(a,b,c){var e=this,g={url:a,type:b.method,headers:b.headers,data:b.body||"",dataType:"json",success:d.bind(this,function(a,b,d){var e={statusCode:d.status,headers:f(d.getAllResponseHeaders())},g=this._buildResponse(b,e,a);c(g)}),error:function(a,b,d){var g={statusCode:a.status,headers:f(a.getAllResponseHeaders())};"abort"===b&&(g.statusCode="abort",a.responseText="{}");var h=JSON.parse(a.responseText),i=e._buildResponse(d,g,h);c(i)}};return $.ajax(g)},parseJson:function(a){return a}})}()}),b.define("/lib/platform/client/proxy_http.js",function(a,b,c){!function(){function b(a){for(var c=b.options,d=c.parser[c.strictMode?"strict":"loose"].exec(a),e={},f=14;f--;)e[c.key[f]]=d[f]||"";return e[c.q.name]={},e[c.key[12]].replace(c.q.parser,function(a,b,d){b&&(e[c.q.name][b]=d)}),e}var d=a("../../http"),e=a("../../utils"),f=c||this,g=function(a){for(var b={},c=a.split("\n"),d=0;d<c.length;d++)if(""!==e.trim(c[d])){var f=c[d].split(": ");b[f[0]]=f[1]}return b};b.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var h=/[.*+?|()\[\]{}\\$\^]/g,i=function(a){return a=a||"",a.replace(h,"\\$&")};f.ProxyHttp=d.extend({init:function(a){this.prefix=a,this._super()},makeRequest:function(a,c,d){c.headers["X-ProxyDestination"]=a;var e=b(a),f=""+(e.protocol?e.protocol:"")+"://"+e.authority;a=a.replace(new RegExp(i(f),"i"),""),a=this.prefix+a;var h=this,j={url:a,type:c.method,headers:c.headers,data:c.body||"",dataType:"text",success:function(a,b,c){if(!k.wasAborted){var e={statusCode:c.status,headers:g(c.getAllResponseHeaders())},f=h._buildResponse(b,e,a);d(f)}},error:function(a,b,c){if(!k.wasAborted){var e={statusCode:a.status,headers:g(a.getAllResponseHeaders())};"abort"===b&&(e.statusCode="abort",a.responseText="{}");var f=a.responseText,i=h._buildResponse(c,e,f);d(i),"abort"===b&&(k.wasAborted=!0)}}},k=$.ajax(j);return k},parseJson:function(a){return JSON.parse(a)}}),f.SplunkWebHttp=f.ProxyHttp.extend({init:function(){this._super("/en-US/splunkd/__raw")}})}()}),b.define("/lib/entries/browser.ui.entry.js",function(b,c,d){!function(a){var c=b("../../contrib/script");window[a]||(window[a]={}),window[a].UI||(window[a].UI={});var d=window[a].UI,e=0,f=function(a,b,d){if(!a)throw new Error("Must specify a path to load from.");d=d||function(){},c(a,b,d)};d.loadTimeline=function(a,b){var c="timeline"+e++;return f(a,c,b),c},d.loadCharting=function(a,b){var c="charting"+e++;return f(a,c,b),c},d.load=function(a,b){if(!a)throw new Error("Must specify paths to load components from");b=b||function(){};var d="all"+d++;return c(a,d,function(){b()}),d},d.ready=function(a,b){b=b||function(){},c.ready(a,b)}}(a)}),b.define("/contrib/script.js",function(a,b){!function(a,c){"undefined"!=typeof b?b.exports=c():this[a]=c()}("$script",function(){function a(a,b,c){for(c=0,j=a.length;c<j;++c)if(!b(a[c]))return p;return 1}function b(b,c){a(b,function(a){return!c(a)})}function c(f,g,h){function j(a){return a.call?a():l[a]}function k(){if(!--t){l[s]=1,r&&r();for(var c in n)a(c.split("|"),j)&&!b(n[c],j)&&(n[c]=[])}}f=f[q]?f:[f];var p=g&&g.call,r=p?g:h,s=p?f.join(""):g,t=f.length;return setTimeout(function(){b(f,function(a){return o[a]?(s&&(m[s]=1),2==o[a]&&k()):(o[a]=1,s&&(m[s]=1),d(!i.test(a)&&e?e+a+".js":a,k),void 0)})},0),c}function d(a,b){var c=g.createElement("script"),d=p;c.onload=c.onerror=c[u]=function(){c[s]&&!/^c|loade/.test(c[s])||d||(c.onload=c[u]=null,d=1,o[a]=2,b())},c.async=1,c.src=a,h.insertBefore(c,h.firstChild)}var e,f=this,g=document,h=g.getElementsByTagName("head")[0],i=/^https?:\/\//,k=f.$script,l={},m={},n={},o={},p=!1,q="push",r="DOMContentLoaded",s="readyState",t="addEventListener",u="onreadystatechange";return!g[s]&&g[t]&&(g[t](r,function v(){g.removeEventListener(r,v,p),g[s]="complete"},p),g[s]="loading"),c.get=d,c.order=function(a,b,d){!function e(f){f=a.shift(),a.length?c(f,e):c(f,b,d)}()},c.path=function(a){e=a},c.ready=function(d,e,f){d=d[q]?d:[d];var g=[];return!b(d,function(a){l[a]||g[q](a)})&&a(d,function(a){return l[a]})?e():!function(a){n[a]=n[a]||[],n[a][q](e),f&&f(g)}(d.join("|")),c},c.noConflict=function(){return f.$script=k,this},c})}),b.define("/browser.entry.js",function(b){!function(a){var c=window[a],d=b("../../index"),e=b("../../lib/platform/client/jquery_http").JQueryHttp,f=b("../../lib/platform/client/proxy_http"),g=f.ProxyHttp,h=f.SplunkWebHttp;window[a]=d,window[a].ProxyHttp=g,window[a].JQueryHttp=e,window[a].SplunkWebHttp=h,window[a].noConflict=function(){return window[a]=c,d},b("../../lib/entries/browser.ui.entry")}(a)}),b("/browser.entry.js")}(),define("splunkjs/splunk",["jquery"],function(a){return function(){var b;return b||a.splunkjs}}(this)),define("splunkjs/mvc/tokenescapestring",["require","exports","module"],function(){var a=function(a){this.value=a};return a}),define("splunkjs/mvc/tokensafestring",["require","exports","module"],function(){var a=function(a){this.value=a};return a}),define("splunkjs/mvc/tokenutils",["require","exports","module","underscore","./registry"],function(a){var b=a("underscore"),c=a("./registry"),d={search:function(a){return JSON.stringify(String(a))},url:function(a){return encodeURIComponent(String(a))},html:function(a){return b.escape(String(a))}};b.extend(d,{h:d.html,u:d.url,s:d.search});var e=/(\w+:)?/.source,f=/([^$|:]+?)(\|[|\w]+)?/.source,g=/\$/.source+e+f+/\$/.source,h=new RegExp(g+"|"+/\$\$/.source,"g"),i=/^[suh]{1,3}$/,j=function(a){var b="";return a.global&&(b+="g"),a.multiline&&(b+="m"),a.ignoreCase&&(b+="i"),new RegExp(a.source,b)},k={_FILTER_NAMESPACE:"__filters",getTokens:function(a,c){c=c||{};for(var d=c.tokenNamespace||"default",e=[],f=j(h);;){var g=f.exec(a);if(c._isToken)return g&&0===g.index&&g[0].length===a.length&&g[0].length>2;if(!g)break;var i=g[1],l=g[2],m=g[3];if(i||l){i=i?i.substring(0,i.length-1):d;var n;if(m){var o=k._parseFilterChain(m);n=b.map(o,function(a){return{name:a}})}else n=[];e.push({namespace:i,name:l,filters:n})}}return e},getTokenNames:function(a){var c=k.getTokens(a),d=[];return b.each(c,function(a){"default"===a.namespace&&d.push(a.name)}),d},replaceTokens:function(a,c,d){var e;e=b.isFunction(d)?{escaper:d}:d||{};var f=e.escaper,g=e.tokenNamespace||"default";return a.replace(j(h),function(a,d,e,h){if(!d&&!e)return"$";d=d?d.substring(0,d.length-1):g;var i=c.get(d);if(void 0===i)return a;var j=i.get(e);if(void 0===j)return a;if(h){var l=k._parseFilterChain(h,f,c),m=b.map(l,function(a){return k.getFilter(a,c)});if(b.compact(m).length!==m.length)return a;b.each(m,function(a){a&&(j=a(j))})}return b.isFunction(f)&&(j=f(j)),j})},_parseFilterChain:function(a,c,d){var e=a.substring(1).split("|");return 1===e.length&&i.test(e[0])&&(e=e[0].split(""),c&&(e=b.filter(e,function(a){var b=k.getFilter(a,d);return b!==c}))),e},replaceTokenNames:function(a,b,d){var e=new c,f=e.getInstance("default",{create:!0});return f.set(b),k.replaceTokens(a,e,d)},hasToken:function(a){return k.getTokens(a).length>0},hasTokenName:function(a){return b.some(k.getTokens(a),function(a){return"default"===a.namespace})},isToken:function(a){return k.getTokens(a,{_isToken:!0})},isTokenName:function(a){return k.isToken(a)&&"default"===k.getTokens(a)[0].namespace},getTokenName:function(a){return k.isTokenName(a)&&k.getTokenNames(a)[0]},quoteAsTokenString:function(a){return b.isString(a)?a.replace(/\$/g,function(){return"$$"}):a},setFilter:function(a,b,c){var d=k.getEscaper(a);if(d||i.test(a))throw new Error('Cannot register new filter with reserved name "'+a+'".');var e=c.getInstance(k._FILTER_NAMESPACE,{create:!0});e.set(a,b)},getFilter:function(a,b){var c=k.getEscaper(a);if(c)return c;var d=b.getInstance(k._FILTER_NAMESPACE,{create:!0});return d.get(a)},getEscaper:function(a){return d[a]}};return k}),define("splunkjs/mvc/utils",["require","exports","module","jquery","underscore","util/console","splunk.config","./tokenutils"],function(a){var b=(a("jquery"),a("underscore")),c=a("util/console"),d=a("splunk.config"),e=a("./tokenutils"),f=function(a){a=a||{},this.source=a.source,this.prefix=a.prefix||"",this.dest=a.dest,this.destSetter=a.save||a.saveDest?"save":"set",this.sourceSetter=a.save||a.saveSource?"save":"set",this.debug=a.debug,this.aliasMap=a.alias||{},this.tokens=void 0!==a.tokens?a.tokens:!0,this.include(a.include),this.exclude(a.exclude),a.auto===!0?(this.auto("push"),this.auto("pull")):b.isString(a.auto)&&this.auto(a.auto)};b.extend(f.prototype,{include:function(a){return this.includes=b.isArray(a)?b.object(a,b.map(a,function(){return!0})):a,this},exclude:function(a){return this.excludes=b.isArray(a)?b.object(a,b.map(a,function(){return!0})):a,this},auto:function(a){return"push"===a?(this.source.on("change",this.push,this),this.push()):"pull"==a&&(this.dest.on("change",this.pull,this),this.pull()),this},push:function(a,d){var e={tokens:this.tokens},f=d&&d.unset?a.changed:this.source.toJSON(e),g={},h=this.aliasMap||{},i=this.includes,j=this.excludes||{},k=this.prefix,l=this.dest;b(f).each(function(a,b){if((void 0===i||i[b])&&!j[b]){var c=h[b],d=void 0!==c?c:k+b;l.get(d,e)!==a&&(g[d]=a)}}),b(g).isEmpty()||(this.debug&&c.log("PUSH",g,b.isObject(d)?b.pick(d,["unset"]):void 0),this.dest[this.destSetter](g,b.extend(e,b.isObject(d)?b.pick(d,["unset"]):void 0)))},pull:function(a,d){var e={tokens:this.tokens},f=d&&d.unset?a.changed:this.dest.toJSON(e),g={},h=b.invert(this.aliasMap||{}),i=this.includes,j=this.excludes||{},k=this.prefix,l=this.source;b(f).each(function(a,b){if(h[b])g[h[b]]=a;else if(b.substring(0,k.length)==k){var c=b.substring(k.length);void 0!==i&&!i[c]||j[c]||l.get(c,e)!==a&&(g[c]=a)}}),b(g).isEmpty()||(this.debug&&c.log("PULL",g,b.isObject(d)?b.pick(d,["unset"]):void 0),this.source[this.sourceSetter](g,b.extend(e,b.isObject(d)?b.pick(d,["unset"]):void 0)))},destroy:function(){this.source.off(null,null,this),this.dest.off(null,null,this)}});var g={getPageInfo:function(){return d.INDEPENDENT_MODE?{root:void 0,locale:d.LOCALE,app:d.APP,page:void 0}:g._getUrlInfo(window.location.pathname)},_getUrlInfo:b.memoize(function(a){var c,d,e,f=a.substring(1).split("/"),g=b.indexOf(f,"app",1),h=b.indexOf(f,"manager",1),i=b.indexOf(f,"dj",0);return i>=0&&(-1===g||g>i)?(i>0&&(d=b.first(f,i).join("/")),c=f[i+1],e=b.rest(f,i+2)):g>1?(d=b.first(f,g-1).join("/"),c=f[g-1],e=b.rest(f,g+1)):h>1?(d=b.first(f,h-1).join("/"),c=f[h-1],e=b.rest(f,h+1)):(c=f[0],e=b.rest(f,2)),{root:d,locale:c,app:e[0],page:e[1]}}),getCurrentApp:function(){return g.getPageInfo().app},searchEscapeValue:function(a){return JSON.stringify(String(a))},escapeFn:function(a){return e.getEscaper(a)},escape:function(a,b){return g.escapeFn(b)(a)},replaceTokens:function(a,b,c){return e.replaceTokenNames(a,b,c)},getTokenName:function(a){return e.getTokenName(a)},discoverReplacementTokens:function(a){return e.getTokenNames(a)},isToken:function(a){return e.isTokenName(a)},hasToken:function(a){return e.hasTokenName(a)},containsToken:function(a){return b(a).some(e.hasTokenName)},quoteAsTokenString:function(a){return e.quoteAsTokenString(a)},syncModels:function(a,c,d){var e=d;return 1==arguments.length?e=a:(e=e||{},b.extend(e,{source:a,dest:c})),new f(e)},redirect:function(a,b,c){b?window.open(a,"_blank"):c?window.open(a,c):window.location=a}};return g}),require.config({shim:{"splunkjs/contrib/jquery.deparam":{deps:["jquery"],exports:"jQuery.fn.deparam"}}}),define("splunkjs/mvc/mvc",["require","exports","module","underscore","backbone","util/console","../contrib/jquery.deparam","./protections","./registry","splunkjs/generated/urlresolver","splunkjs/splunk","splunk.config","./tokenescapestring","./tokensafestring","./tokenutils","./utils","splunk.error","util/ajax_logging"],function(a){var b=a("underscore"),c=a("backbone"),d=a("util/console"),e=(a("../contrib/jquery.deparam"),a("./protections")),f=a("./registry"),g=a("splunkjs/generated/urlresolver"),h=a("splunkjs/splunk"),i=a("splunk.config"),j=a("./tokenescapestring"),k=a("./tokensafestring"),l=a("./tokenutils"),m=a("./utils");a("splunk.error"),a("util/ajax_logging");var n=null,o=function(){this.Components=new f,this.initialize.apply(this,arguments)};b.extend(o.prototype,c.Events,{started:!1,initialize:function(){},drilldown:function(a,b){var c=$.param(b||{});c&&(a=a+"?"+c),window.location=a},loadDebugger:function(b){var c=this;a(["./debugger"],function(a){c.Debugger=new a({registry:c.Components}),c.trigger("debugger:ready",c),b&&b(c.Debugger)})},loadDrilldown:function(a){var c=window.location.search.substr(1)||"",e=b.extend({},$.deparam(c),a),f=this;b.each(e,function(a,b){if(f.Components.has(b)){var c=f.Components.getInstance(b);c.settings?c.settings.set(a):c.set?c.set(a):d.log("Could not find a setter for '"+b+"'",a)}})},reverse:function(a,b,c){return g.reverse(a,b,c)},_setSessionKey:function(a){n=a},createService:function(a){a=a||{},n&&(a.sessionKey=n);var b=a.http||new h.ProxyHttp(i.SPLUNKD_PATH);return a.scheme=a.scheme||i.SCHEME,a.host=a.host||i.HOST,a.port=a.port||i.PORT,a.version=a.version||"5.0",a.app=a.app||m.getPageInfo().app||"-",a.owner=a.owner||encodeURIComponent(i.USERNAME),new h.Service(b,a)},tokenSafe:function(a){return new k(a)},tokenEscape:function(a){return new j(a)},setFilter:function(a,b){l.setFilter(a,b,p.Components)},getFilter:function(a){return l.getFilter(a,p.Components)}}),window.splunkjs||(window.splunkjs={});{var p=new o;window.splunkjs.mvc=p}return i.DJANGO_ENABLE_PROTECTIONS&&(e.enableCSRFProtection($),e.enableUnauthorizationRedirection($,p.reverse(":login"),p.reverse(":logout"))),p}),define("splunkjs/mvc",["require","exports","module","./mvc/mvc"],function(a){var b=a("./mvc/mvc");return b}),define("splunkjs/mvc/tokenawaremodel",["require","exports","module","underscore","splunkjs/mvc","./tokenescapestring","./tokensafestring","util/console","./tokenutils","models/Base"],function(a){var b=a("underscore"),c=a("splunkjs/mvc"),d=a("./tokenescapestring"),e=a("./tokensafestring"),f=a("util/console"),g=a("./tokenutils"),h=a("models/Base"),i=!1,j=h.extend({applyTokensByDefault:!1,retrieveTokensByDefault:!1,constructor:function(a,b){a=a||{},b=b||{},this._tokenNamespace=b.tokenNamespace||void 0,this._retainUnmatchedTokens=b.retainUnmatchedTokens,this._tokenEscaper=b.tokenEscaper||void 0,this._tokenRegistry=b._tokenRegistry||c.Components,this.tokens=!!b.tokens,this._applyTokensByDefault=b.hasOwnProperty("applyTokensByDefault")?b.applyTokensByDefault:this.applyTokensByDefault,this._retrieveTokensByDefault=b.hasOwnProperty("retrieveTokensByDefault")?b.retrieveTokensByDefault:this.retrieveTokensByDefault,h.prototype.constructor.call(this,{}),this._templates=new h({}),this._bindings={},this._pushed_properties=[],this.listenTo(this._templates,"change",function(a,b){this._updateBindingsForProperties(a.changed,b)}),this.set(a,b)},_updateBindingsForProperties:function(a,c){var d=this;b.each(a,function(a,e){var f;if(void 0===a)f=void 0;else{var h=g.getTokens(a,{tokenNamespace:d._tokenNamespace}),i=function(c){if(g.isToken(a)){var e=h[0],f=d._tokenRegistry.getInstance(e.namespace,{create:!0}),i=f.get(e.name);if(!b.isString(i)&&void 0!==i)return i}var j,k=b.all(h,function(a){var c=d._tokenRegistry.getInstance(a.namespace,{create:!0}),e=c.get(a.name),f=b.all(a.filters,function(a){var b=g.getFilter(a.name,d._tokenRegistry);return void 0!==b});return void 0!==e&&f});return j=k||d._retainUnmatchedTokens||c?g.replaceTokens(a,d._tokenRegistry,{tokenNamespace:d._tokenNamespace,escaper:d._tokenEscaper}):void 0},j=[];b.each(h,function(a){j.push({namespace:a.namespace,name:a.name}),b.each(a.filters,function(a){j.push({namespace:g._FILTER_NAMESPACE,name:a.name})})}),f={observes:j,template:a,computeValue:i}}d._setBinding(e,f,c)})},_setBinding:function(a,c,d){var e=this;this._disposeBindingListeners(this._bindings[a]),this._bindings[a]=c,void 0!==c&&(c._listeners=[],b.each(c.observes,function(b){var d=e._tokenRegistry.getInstance(b.namespace,{create:!0}),f=b.name,g=function(){e._pullPropertyValue(a)};e.listenTo(d,"change:"+f,g),g.dispose=function(){e.stopListening(d,"change:"+f,g)},c._listeners.push(g)}),this._isPushEnabled(a)&&this._configureBindingForPush(a),this._isPushEnabled(a)&&void 0!==this.get(a)?this._pushPropertyValue(a,d):this._pullPropertyValue(a,d))},_pullPropertyValue:function(a,b){var c=this._bindings[a],d=c.computeValue();i&&f.log("PROPAGATE: "+a+" <- "+d),b=b||{},b.hasOwnProperty("_silent")&&(b.silent=b._silent,delete b._silent),h.prototype.set.call(this,a,d,b)},enablePush:function(a){this._isPushEnabled(a)||(this._pushed_properties.push(a),void 0!==this._bindings[a]&&this._configureBindingForPush(a))},_isPushEnabled:function(a){return b.contains(this._pushed_properties,a)},_configureBindingForPush:function(a){var b=this._bindings[a];if(g.isToken(b.template)){var c=this,d=function(){c._pushPropertyValue(a)};this.listenTo(this,"change:"+a,d),d.dispose=function(){c.stopListening(c,"change:"+a,d)},b._listeners.push(d)}},_pushPropertyValue:function(a,b){var c=this._bindings[a],d=this.get(a),e=c.observes[0],g=this._tokenRegistry.getInstance(e.namespace,{create:!0}),h=e.name;i&&f.log("PROPAGATE: "+d+" -> "+h),b=b||{},b.hasOwnProperty("_silent")&&(b.silent=b._silent,delete b._silent),g.set(h,d,b)},set:function(a,c,f){var g,i=this;"object"==typeof a?(g=a,f=c):(g={})[a]=c,f=f||{},f.hasOwnProperty("tokens")||(f.tokens=this._applyTokensByDefault);var j={},k=[],l={},m=function(a,b){j[a]=b},n=function(a,b){i._isPushEnabled(a)||k.push(a),l[a]=b};b.each(g,function(a,c){a instanceof e?m(c,a.value):a instanceof d?n(c,a.value):b.isString(a)&&f.tokens?m(c,a):n(c,a)});var o=b.clone(f);f.hasOwnProperty("silent")&&(o._silent=f.silent,delete o.silent),b.isEmpty(j)||this._templates.set(j,o),b.isEmpty(k)||b.each(k,function(a){i._templates&&i._templates.has(a)&&i._templates.unset(a,o)}),b.isEmpty(l)||h.prototype.set.call(this,l,f)},get:function(a,b){return b||(b={}),b.hasOwnProperty("tokens")||(b.tokens=this._retrieveTokensByDefault),b.tokens?this._templates.has(a)?this._templates.get(a):g.quoteAsTokenString(h.prototype.get.call(this,a)):h.prototype.get.call(this,a)},extractWithPrefix:function(a){var d=this,e={};return b.each(b.keys(this.attributes),function(b){if(0===b.indexOf(a)){var f,g=b.substring(a.length),h=d.get(b,{tokens:!0});f=void 0!==h?c.tokenSafe(h):d.get(b),e[g]=f}}),e},toJSON:function(a){if(a||(a={}),a.hasOwnProperty("tokens")||(a.tokens=this._retrieveTokensByDefault),a.tokens){var c=this,d={};return b.each(this.attributes,function(a,b){d[b]=c.get(b,{tokens:!0})}),d=b.extend(d,this._templates.toJSON())}return h.prototype.toJSON.apply(this,arguments)},dispose:function(){this._templates.deepOff(),b.each(this._bindings,this._disposeBindingListeners),this._bindings={},this.deepOff()},_disposeBindingListeners:function(a){a&&(b.each(a._listeners,function(a){a.dispose()}),a._listeners=[])}});return j._createReportModel=function(a){return new j(a||{},{applyTokensByDefault:!0,retainUnmatchedTokens:!0})},j}),define("splunkjs/mvc/settings",["require","exports","module","./tokenawaremodel"],function(a){var b=a("./tokenawaremodel"),c=b.extend({sync:function(){return!1}});return c}),define("splunkjs/mvc/basesplunkview",["require","exports","module","underscore","./mvc","util/console","backbone","./settings","mixins/viewlogging"],function(a){var b=a("underscore"),c=a("./mvc"),d=a("util/console"),e=a("backbone"),f=a("./settings"),g=a("mixins/viewlogging"),h=e.View.extend({_numConfigureCalls:0,omitFromSettings:[],constructor:function(a,f){a=a||{},f=f||{},a.settingsOptions=b.extend(a.settingsOptions||{},f),this._removed=!1;var g=a.id;void 0===g&&a.name&&(g=a.name,d.warn("Use of 'name' to specify the ID of a Splunk model is deprecated.")),void 0===g&&(g=b.uniqueId("view_")),this.name=this.id=a.name=a.id=g,this.options=b.extend({},this.options,a);var h=e.View.prototype.constructor.apply(this,arguments);return 0==this._numConfigureCalls&&this.configure(),c.Components.registerInstance(this.id,this,{replace:f.replace}),h},configure:function(){if(this._numConfigureCalls++,this._numConfigureCalls>1)throw new Error("BaseSplunkView.configure() called multiple times.");var a=this.options.settings;if(a&&a instanceof f)return this.settings=a,this;var c=(this.omitFromSettings||[]).concat(["model","collection","el","attributes","className","tagName","events","settingsOptions"]),d=b.omit(this.options,c),e=this.options.settingsOptions;return this.settings=new f(d,e),this},initialize:function(){e.View.prototype.initialize.apply(this,arguments)},remove:function(){return this._removed=!0,this.settings.dispose(),e.View.prototype.remove.apply(this,arguments),c.Components.getInstance(this.id)===this&&c.Components.revokeInstance(this.id),this},dispose:function(){this.remove()},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this.$el.addClass("splunk-view"),this.className&&this.$el.addClass(this.className),this.$el.attr("id")||this.$el.attr("id",this.id),this},bindToComponentSetting:function(a,b,c){this.listenTo(this.settings,"change:"+a,function(d,e){var f=this.settings.previous(a),g=e;this.unbindFromComponent(f,b,c),this.bindToComponent(g,b,c)},this);var d=this.settings.get(a);this.bindToComponent(d,b,c)},bindToComponent:function(a,d,e){if(!a||!d)return this;if(this.listenTo(c.Components,"change:"+a,d,e),c.Components.has(a)){var f=c.Components.get(a);b.defer(b.bind(function(){this._removed||d.apply(e,[c.Components,f,{}])},this))}return this},unbindFromComponent:function(a,b,d){return a?(c.Components.off("change:"+a,b,d),this):this}});return b.extend(h.prototype,g),h}),define("models/services/data/ui/Time",["jquery","splunk.util","models/SplunkDBase","util/time"],function(a,b,c,d){return c.extend({url:"data/ui/times",initialize:function(){c.prototype.initialize.apply(this,arguments)
},isRealTime:function(){return this.isDisabled()?!1:d.isRealtime(this.entry.content.get("latest_time"))},isPeriod:function(){if(this.isDisabled())return!1;var a=this.entry.content.get("earliest_time"),b=this.entry.content.get("latest_time");return a&&-1!=a.indexOf("@")&&0!=a.indexOf("-")?!0:a&&b&&-1!=a.indexOf("@")&&-1!=b.indexOf("@")?!0:!1},isLast:function(){if(this.isDisabled())return!1;if(this.isPeriod())return!1;var a=this.entry.content.get("earliest_time");return a?0==a.indexOf("-"):!1},isOther:function(){return this.isDisabled()?!1:!(this.isRealTime()||this.isPeriod()||this.isLast()||this.isSubMenu())},isDisabled:function(){return this.entry.content.get("disabled")},isSubMenu:function(){return"1"===this.entry.content.get("is_sub_menu")}})}),define("collections/services/data/ui/Times",["models/services/data/ui/Time","collections/SplunkDsBase"],function(a,b){var c=b.extend({url:"data/ui/times",model:a,initialize:function(){b.prototype.initialize.apply(this,arguments)},filterToRealTime:function(){return this.filter(function(a){return a.isRealTime()})},filterToPeriod:function(){return this.filter(function(a){return a.isPeriod()})},filterToLast:function(){return this.filter(function(a){return a.isLast()})},filterToOther:function(){return this.filter(function(a){return a.isOther()})},comparator:function(a){return parseInt(a.entry.content.get("order"),10)}});return c}),define("splunkjs/mvc/sharedmodels",["require","exports","module","jquery","underscore","models/shared/Application","models/services/AppLocal","models/services/authentication/User","collections/services/data/ui/Times","./utils","splunk.config","util/splunkd_utils","models/services/server/ServerInfo","collections/services/AppLocals"],function(a){var b=a("jquery"),c=a("underscore"),d=a("models/shared/Application"),e=a("models/services/AppLocal"),f=a("models/services/authentication/User"),g=a("collections/services/data/ui/Times"),h=a("./utils"),i=a("splunk.config"),j=a("util/splunkd_utils"),k=a("models/services/server/ServerInfo"),l=a("collections/services/AppLocals"),m=h.getPageInfo(),n=function(){return{appLocal:{model:new e,fetch:c.memoize(function(){var a=o.app.model,b=o.appLocal.model,c=b.dfd=b.fetch({url:j.fullpath(b.url+"/"+encodeURIComponent(a.get("app"))),data:{app:a.get("app"),owner:a.get("owner")}});return b.dfd=c,c})},user:{model:new f,fetch:c.memoize(function(){var a=o.app.model,b=o.user.model,c=b.dfd=b.fetch({url:j.fullpath(b.url+"/"+encodeURIComponent(a.get("owner"))),data:{app:a.get("app"),owner:a.get("owner")}});return b.dfd=c,c})},times:{model:new g,fetch:c.memoize(function(){var a=o.app.model,b=o.times.model,c=b.dfd=b.fetch({data:{app:a.get("app"),owner:a.get("owner")}});return c})},app:{model:new d({owner:i.USERNAME,root:m.root,locale:m.locale,app:m.app,page:m.page}),fetch:function(){return b.Deferred().resolve(o.app.model)}},serverInfo:{model:new k,fetch:c.memoize(function(){var a=o.serverInfo.model,b=a.dfd=a.fetch();return b})},appLocals:{model:new l,fetch:c.memoize(function(){var a=o.app.model,b=o.appLocals.model,c=b.dfd=b.fetch({data:{sort_key:"name",sort_dir:"desc",app:"-",owner:a.get("owner"),search:"visible=true AND disabled=0 AND name!=launcher",count:-1}});return c})}}},o=n();return{get:function(a){if(!o.hasOwnProperty(a))throw new Error("There is no shared model '"+a+"'");var b=o[a];return b.fetch(),b.model},_setAppOwner:function(a){this.get("app").set("owner",a)},_clear:function(){o=n()}}}),define("splunkjs/mvc/headerview",["require","exports","module","./mvc","./basesplunkview","views/shared/splunkbar/Master","views/shared/appbar/Master","./sharedmodels","helpers/user_agent","models/config"],function(a,b,c){var d=(a("./mvc"),a("./basesplunkview")),e=a("views/shared/splunkbar/Master"),f=a("views/shared/appbar/Master"),g=a("./sharedmodels"),h=a("helpers/user_agent"),i=a("models/config"),j=d.extend({moduleId:c.id,className:"splunk-header",options:{appbar:!0,acceleratedAppNav:!1,useSessionStorageCache:!1},initialize:function(){this.configure(),this.model=this.model||{},this.model.application=g.get("app"),this.model.user=g.get("user"),this.model.appLocal=g.get("appLocal"),this.model.serverInfo=g.get("serverInfo");var a=this.settings.get("acceleratedAppNav")&&h.isIE7();this.collection=this.collection||{},this.collection.appLocals=g.get("appLocals"),this.globalNav=e.create({model:{application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo,config:i},collection:{apps:this.collection.appLocals}}),this.settings.get("appbar")&&(this.appNav=f.create({model:{application:this.model.application,app:this.model.appLocal},appServerUrl:a,useSessionStorageCache:this.settings.get("useSessionStorageCache"),autoRender:!1}))},render:function(){return this.$el.empty().append(this.globalNav.render().el),this.settings.get("appbar")&&this.$el.append(this.appNav.render().el),this}});return j}),define("splunkjs/mvc/footerview",["require","exports","module","jquery","underscore","./mvc","./basesplunkview","views/shared/footer/Master","./sharedmodels"],function(a,b,c){var d=a("jquery"),e=a("underscore"),f=(a("./mvc"),a("./basesplunkview")),g=a("views/shared/footer/Master"),h=a("./sharedmodels"),i=f.extend({moduleId:c.id,className:"splunk-footer",initialize:function(){var a=h.get("app"),b=h.get("appLocal"),c=h.get("serverInfo"),f=h.get("appLocals");this.dfd=d.when.apply(d,[a.dfd,b.dfd,c.dfd,f.dfd]),this.dfd.done(e.bind(function(){this.footer=g.create({model:{application:a,appLocal:b,serverInfo:c},collection:{apps:f}})},this))},render:function(){return this.dfd.done(e.bind(function(){this.$el.append(this.footer.render().el)},this)),this}});return i}),function(a,b){if("function"==typeof define&&define.amd)define("app-js/contrib/backbone.listview",["underscore","backbone"],function(c,d){return b(a,d,c)});else if("undefined"!=typeof exports){var c=require("underscore"),d=require("backbone");b(a,d,c),"undefined"!=typeof module&&module.exports&&(module.exports=d),exports=d}else b(a,a.Backbone,a._)}(this,function(a,b,c){var d=b.View.extend({className:"list",constructor:function(a){a=a||{},this.setupListView(a),b.View.call(this,a)},setupListView:function(a){c.defaults(a,{itemView:b.View,collection:new b.Collection}),this.items=[],this.itemView=a.itemView,this.collection=a.collection},setupListeners:function(){this.listenTo(this.collection,"add",this.addSingleItem,this),this.listenTo(this.collection,"reset",this.addAll,this),this.listenTo(this.collection,"remove",this.removeSingleItem,this)},render:function(){return this.addAll(),this},addAll:function(){this.removeAllItems(),this.setupListeners(),this.collection.each(function(a){this.addSingleItem(a)},this)},addSingleItem:function(a){var b=new this.itemView({model:a});return this.items.push(b),this.addListItemListeners(b),b.render(),this.$el.append(b.el),b},removeSingleItem:function(a){var b=this.getViewByModel(a);this.removeSingleView(b)},removeSingleView:function(a){var b;this.stopListening(a),a&&(this.stopListening(a.model),a.remove(),b=this.items.indexOf(a),this.items.splice(b,1))},addListItemListeners:function(a){this.listenTo(a,"all",function(){var b="item:"+arguments[0],d=c.toArray(arguments);d.splice(0,1),d.unshift(b,a),this.trigger.apply(this,d)}),this.listenTo(a.model,"change",function(){a.render()})},getViewByModel:function(a){return c.find(this.items,function(b){return b.model===a})},removeAllItems:function(){this.collection.each(function(a){this.removeSingleItem(a)},this)},remove:function(){b.View.prototype.remove.call(this,arguments),this.removeAllItems()}});return b.ListView=d,d}),define("app-js/contrib/mediator",[],function(){return function(a){var b={};return a||(a={}),a.subscribe=function(a,c){b[a]||(b[a]=[]),b[a].push(c)},a.publish=function(a){if(b[a])for(var c=[].slice.call(arguments,1),d=0,e=b[a].length;e>d;d++)b[a][d].apply(this,c)},a}}),define("app-js/models/IpAddress",["jquery","underscore","backbone"],function(a,b,c){return c.Model.extend({validate:function(a){var b,c,d,e,f,g,h,i;if(b=a.val.match(/^([^.]+)\.([^.]+)\.([^.]+)\.([^.\/]+)(\/(\d+))?$/)){for(c=1;4>=c;++c)if(e=b[c],"*"!=e){if(!e.match(/^\d+$/))return"IPv4 octets must be decimal numbers (or wildcards)";if(parseInt(e)>255)return"IPv4 octets must be <= 255"}if(b[5]){if(d=parseInt(b[6]),0>=d)return"IPv4 prefix size must be > 0";if(d>32)return"IPv4 prefix size must be <= 32";if(32==d)return;if(i=parseInt(b[1]),i=(i<<8)+parseInt(b[2]),i=(i<<8)+parseInt(b[3]),i=(i<<8)+parseInt(b[4]),i<<d)return"Non-masked bits must be all zeros."}}else{if(!(b=a.val.match(/^([^:]+):([^:]+):([^:]+):([^:]+):([^:]+):([^:]+):([^:]+):([^:\/]+)(\/(\d+))?$/)))return"Not a valid IPv4 or IPv6 address";for(c=1;8>=c;++c)if(f=b[c],!f.match(/^[0-9a-fA-F]{4}$/))return"IPv6 groups must be 4 hexadecimal characters";if(b[9]){if(d=parseInt(b[10]),0>=d)return"IPv6 prefix size must be > 0";if(d>128)return"IPv6 prefix size must be <= 128";for(g=128-d>>4,c=0;g>c;++c)if("0000"!=b[8-c])return"Non-masked bits must be all zeros.";if((h=d%16)&&(i=parseInt(b[8-c],16),(i<<h)%65536))return"Non-masked bits must be all zeros."}}}})}),define("app-js/views/IpAddressListView",["jquery","underscore","backbone","app-js/models/IpAddress","splunk.util"],function(a,b,c,d){return c.View.extend({initialize:function(a){this.options=b.extend({},this.options,a),this.ipAddressList=this.options.ipAddressList,this.ipAddressView=this.options.ipAddressView,this.componentId=this.options.componentId,this.app=this.options.app,this.ipAddressCollection=new c.Collection;for(var d=this.ipAddressList.get("ipAddresses"),e=0;e<d.length;e++)this.ipAddressCollection.add({value:d[e]});this.listView=new c.ListView({collection:this.ipAddressCollection,itemView:this.ipAddressView,el:this.$el.find(".ipAddressList")[0]}),this.listView.on("item:destroy",function(a){this.collection.remove(a.model)})},render:function(){var a=this;a.listView.render(),a.$el.find(".ipAddressList-controls")[0].innerHTML='<div id="adder"><input type="text" class="add-input input-xlarge" id="add-input" placeholder="Add Ip Address"/><button class="btn" id="add-button">Add</button><button class="btn btn-primary save-ip-button" id="save-button">Save</button>'},events:{"click #add-button":"addIpAddress","click #save-button":"saveIpAddresses"},addIpAddress:function(a){a.preventDefault();var b=this,c=b.$el.find("#add-input").val();if(c){var e=new d({val:c});e.isValid()?(b.ipAddressCollection.add({value:c}),b.$el.find("#add-input").val("")):alert(e.validationError?e.validationError:e.validate({val:c}))}},saveIpAddresses:function(){var a=this,b=this.ipAddressList.clone();b.set("ipAddresses",this.ipAddressCollection.pluck("value")),b.save(["id","ipAddresses"],{type:"put",url:Splunk.util.make_url(["custom","splunk_app_stream","captureipaddresses",this.componentId].join("/")),success:function(){a.app.mediator.publish("view:''"),alert("IP Addresses saved successfully")},error:function(){alert("Error saving IP Addresses")}}),this.app.mediator.publish(this.componentId+":save")},removeSelf:function(){return this.$el.empty(),this.undelegateEvents(),this}})}),define("app-js/views/IpAddressView",["jquery","underscore","backbone"],function(a,b,c){return c.View.extend({className:"list-item",template:b.template('<span><%= value %></span> <span class="destroy">x</span>'),events:{click:"onItemClick","click .destroy":"onDestroyClick"},render:function(){this.$el.html(this.template(this.model.toJSON()))},onItemClick:function(){this.trigger("click")},onDestroyClick:function(){this.trigger("destroy")}})}),define("app-js/models/IpAddressList",["jquery","underscore","backbone"],function(a,b,c){return c.Model.extend({defaults:{id:"",ipAddresses:[]}})}),define("app-js/collections/CaptureIpAddresses",["jquery","underscore","backbone","app-js/models/IpAddressList","splunk.util"],function(a,b,c,d){return c.Collection.extend({model:d,url:Splunk.util.make_url(["custom","splunk_app_stream","captureipaddresses"].join("/"))})}),require.config({shim:{"app-js/views/IpAddressListView":{deps:["app-js/contrib/backbone.listview"]}}}),require(["underscore","jquery","backbone","splunkjs/mvc/headerview","splunkjs/mvc/footerview","app-js/contrib/backbone.listview","app-js/contrib/mediator","app-js/views/IpAddressListView","app-js/views/IpAddressView","app-js/collections/CaptureIpAddresses"],function(a,b,c,d,e,f,g,h,i,j){new d({id:"header",section:"dashboards",el:b(".header"),acceleratedAppNav:!0},{tokens:!0}).render(),new e({id:"footer",el:b(".footer")},{tokens:!0}).render();var k=k||{};k.mediator=new g;var l,m,n=new j;IpAddressRouter=c.Router.extend({routes:{"":"showCaptureIps"},initialize:function(){this.fetchingIpAddresses=n.fetch()},showCaptureIps:function(){this.fetchingIpAddresses.done(function(){m=new h({app:k,componentId:"blacklist",ipAddressList:n.get("blacklist"),el:"#blacklist",ipAddressView:i}),l=new h({app:k,componentId:"whitelist",ipAddressList:n.get("whitelist"),el:"#whitelist",ipAddressView:i}),l.render(),m.render()})}});new IpAddressRouter;c.history.start(),b("title").text("IP Address Filters"),b("body>div.preload").removeClass("preload"),b("#toggle-help").on("click",function(){b("#help").fadeToggle()})}),define("app/pages/capture_ip_addresses",function(){});
//# sourceMappingURL=capture_ip_addresses.map